# kubectl-ai-experiments
DevOps Course Repository with kubernetes manifests ai generation prompt examples

### AI Tool

These prompts were generated with the help of [kubectl-ai](https://github.com/sozercan/kubectl-ai) kubernetes CLI extension with OpenAI API [gpt-4o-mini](https://platform.openai.com/docs/models/gpt-4o-mini) model

#### Used command format to generate manifests from these prompts

`kubectl ai "<place your prompt text here>" --raw > yaml/<provide-your-manifest-file-name-here>.yaml`

### AI Generation Prompt Examples

| NAME                                                               | PROMPT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | DESCRIPTION                                                                                                     | EXAMPLE                                                 |
|--------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
| Create generic Pod                                                 | `create app pod labeled 'app=demo, run=demo' with container image 'gcr.io/k8s-k3s/demo:v1.0.0'  named 'app' and open container port 8000 with name 'http'`                                                                                                                                                                                                                                                                                                                                                                                                   | Create generic pod with provided image, labels and port parameters                                              | [app.yaml](yaml/app.yaml)                               |
| Create Pod with liveness probe                                     | `create app-livenesprob pod in 'demo' namespace with container image 'gcr.io/k8s-k3s/demo:v1.0.0'  named 'app' and open container port 8000 with name 'http' with livenessProbe http get at port 8000  with settings: initial delay seconds 5, timeout seconds 1, period seconds 10, failure threshold 3`                                                                                                                                                                                                                                                    | Create Pod with liveness probe and specified parameters                                                         | [app-livenessProbe.yaml](yaml/app-livenessProbe.yaml)   |
| Create Pod with liveness and readiness probes                      | `create app-readinessprob pod with container image 'gcr.io/k8s-k3s/demo:v2.0.0' named 'app' and open container port 8000 with name 'http' with livenessProbe http get at port 8000 with settings: initial delay seconds 5, timeout seconds 1, period seconds 10, failure threshold 3 and readinessProbe at path /ready port 8000 with settings: period seconds 2,  initial delay seconds 0, failure threshold 3, success threshold 1`                                                                                                                        | Create Pod with liveness and readiness probes and specified parameters                                          | [app-readinessProbe.yaml](yaml/app-readinessProbe.yaml) |
| Create Pod with volume mount and liveness and readiness probes     | `create app-volume pod with container image 'gcr.io/kuar-demo/kuard-amd64:1' named 'app'  and open container port 8080 with name 'http' with livenessProbe http get at port 8080 with settings:  initial delay seconds 5, timeout seconds 1, period seconds 10, failure threshold 3 and readinessProbe  at path /ready port 8080 with settings: period seconds 2, initial delay seconds 0, failure threshold 3,  success threshold 1. Add volume mount named 'data' at host path /var/lib/app to mounted at /data`                                           | Create Pod with volume mount and liveness and readiness probes with specified settings and host path            | [app-volumeMounts.yaml](yaml/app-volumeMounts.yaml)     |
| Create CronJob with bash command                                   | `create cron job named app-cronjob that runs every 5 minutes with container image bash named hello  and command echo 'Hello world' and restart policy on failure`                                                                                                                                                                                                                                                                                                                                                                                            | Create CronJob scheduled to run bash command with specified restart policy                                      | [app-cronjob.yaml](yaml/app-cronjob.yaml)               |
| Create Job with google persistent disk                             | `create job named app-job-rsync with restart policy Never and back off limit 0, with container  image google/cloud-sdk:275.0.0-alpine named init and /bin/sh command  'gsutil -m rsync -dr gs://glow-sportradar/ /data/input' and gce persistent disk volume  named data-input with pd name glow-data-disk-200 with fs type ext4 mounted at /data/input`                                                                                                                                                                                                     | Create rsync Job with google persistent disk volume mount and specified job parameters                          | [app-job.yaml](yaml/app-job.yaml)                       |
| Create Pod with two containers that serves current date time       | `create pod named app-multi-containers with empty dir volume named html with container image nginx named 1st  and volume mounted at /usr/share/nginx/html and container image debian named 2nd with volume mounted at  /html and command that writes datetime every second into /html/index.html`                                                                                                                                                                                                                                                            | Create Pod with two containers that serves current date time via nginx and debian image and shared volume mount | [app-multicontainer.yaml](yaml/app-multicontainer.yaml) |
| Create Pod with resources config and liveness and readiness probes | `create pod named 'app-resource' with container image 'gcr.io/kuar-demo/kuard-amd64:1' named app and  open container port 8080 with name 'http' with livenessProbe http get at port 8080 at path /healthy  with settings: initial delay seconds 5, timeout seconds 1, period seconds 10, failure threshold 3 and  readinessProbe at path /ready port 8080 with settings: period seconds 2, initial delay seconds 0, failure  threshold 3, success threshold 1. Resources configuration is requests: cpu 100m, memory 128Mi;  limits: cpu 100m, memory 256Mi` | Create Pod with resources config that serves at specified port. With liveness and readiness probes              | [app-resources.yaml](yaml/app-resources.yaml)           |
| Create Pod with secret environment variables settings              | `create pod named app-secret-env with redis container named mycontainer, with never restart policy,  and with secret env variable SECRET_USERNAMEwith value from name mysecret1 and key username, with secret  env variable SECRET_PASSWORD with value form name mysecret1 and key password`                                                                                                                                                                                                                                                                 | Create redis Pod with secret key reference  username and password settings                                      | [app-secret-env.yaml](yaml/app-secret-env.yaml)         |